[package]
name    = "rs-infra"
version = "0.1.0"
edition = "2021"

[workspace]
members = [
    "crates/inf",
    "crates/raster",
    "crates/sqlite",
    "crates/tiler",
    "crates/vector",
    "crates/vector/vector_derive",
]

[dependencies]
inf    = { path = "./crates/inf" }
raster = { path = "./crates/raster" }
tiler  = { path = "./crates/tiler", optional = true }
sqlite = { path = "./crates/sqlite", optional = true }

[features]
tiler       = ["dep:tiler"]
arrow       = ["inf/arrow"]
sqlite      = ["dep:sqlite"]
gdal        = ["inf/gdal"]
gdal-static = ["inf/gdal-static"]
serde       = ["inf/serde"]

[package.metadata.vcpkg]
git                   = "https://github.com/microsoft/vcpkg"
rev                   = "943c5ef"
overlay-triplets-path = "vcpkg-triplets"

[package.metadata.vcpkg.target]
#aarch64-apple-darwin = { triplet = "arm64-osx-debugsymbols" }
#x86_64-pc-windows-msvc = { triplet = "x64-windows-static-debugsymbols" }

[patch.crates-io]
geos    = { git = "https://github.com/georust/geos.git", rev = "bac564a845893cb9be799b2373ff496f5e8859cf" }
geozero = { git = "https://github.com/dirkvdb/geozero.git", rev = "ac37045d213d78fb300488f899519248d523e086" }
